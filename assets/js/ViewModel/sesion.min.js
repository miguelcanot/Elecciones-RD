function Sesion(){var e=this;e.logV=ko.observable(!0),e.passV=ko.observable(!1),e.contrasenaCambiada=ko.observable(!1),e.iniciarSesion=function(){if($("#frm").valid()){disableBottonForm();var e=pathApi+"usuario/apiiniciarsesion/",a=$("#txtUsuario").val(),o=$("#txtContrasena").val();return $.post(e,{usuario:a,contrasena:o},function(e){e.estatus?redirect(pathWeb+"estadistica"):(enableBottonForm(),mostrarMensajeE(e.mensaje,"","M"))},"json").fail(function(){mostrarMensajeE(error00,"","M"),enableBottonForm()}),!1}},e.login=function(){var e=pathApi+"usuario/apiiniciarsesion/";$.post(e,{usuario:usuario},function(e){e.estatus?redirect(pathWeb+"dashboard"):redirect(pathWeb+"usuario/noauth"),enableBottonForm()},"json").fail(function(){mostrarMensajeE(error00),enableBottonForm()})},e.recuperarContrasena=function(){if($("#frmPass").valid()){disableBottonForm("frmPass","btnEnviarRecuperar");var e=pathApi+"usuario/apirecordarcontrasena/",a=$("#txtUsuarioRecuperar").val();$.post(e,{tipo:"B",usuario:a},function(e){e.estatus?mostrarMensajeS(e.mensaje,"divMensajeSPass","M"):mostrarMensajeE(e.mensaje,"divMensajeEPass","M"),enableBottonForm("frmPass","btnEnviarRecuperar")},"json").fail(function(){mostrarMensajeE(error00,"divMensajeEPass","M"),enableBottonForm("frmPass","btnEnviarRecuperar")})}},e.cambiarContrasena=function(){if($("#frm").valid()){disableBottonForm();var a=pathApi+"usuario/cambiarcontrasenatoken/",o=$("#txtContrasena").val();$.post(a,{contrasena:o,param:param},function(a){a.estatus?(e.contrasenaCambiada(!0),mostrarMensajeS(a.mensaje)):mostrarMensajeE(a.mensaje),enableBottonForm()},"json").fail(function(){mostrarMensajeE(error00),enableBottonForm()})}},e.mostrarRecuperarContrasena=function(){e.logV(!1),e.passV(!0)},e.mostrarSesion=function(){e.logV(!0),e.passV(!1)},e.mostrarInicioSesion=function(){redirect(pathWeb)}}var sesion=new Sesion;ko.applyBindings(sesion);