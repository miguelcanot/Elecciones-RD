function Perfil(){var e=this;e.IDperfil=ko.observable(),e.usuario=ko.observable(),e.correo=ko.observable(),e.nombre=ko.observable(),e.apellido=ko.observable(),e.telefono=ko.observable(),e.celular=ko.observable(),e.url=ko.observable(),e.fechaNacimiento=ko.observable(),e.sexo=ko.observable(),e.bio=ko.observable(),e.direccion=ko.observable(),e.estadoCivil=ko.observable(),e.imagen=ko.observable(),e.imagenActual=ko.observable(),e.compartirNombre=ko.observable(),e.compartirCorreo=ko.observable(),e.compartirCelular=ko.observable(),e.listaTipoCuenta=ko.observableArray(),e.listaEspecialidad=ko.observableArray(),e.listaEspecialidadUsuario=ko.observableArray(),e.modificando=ko.observable(!1),e.listaTipoDocumento=ko.observableArray([{id:"D",nombre:"Diploma"},{id:"C",nombre:"Certificado"},{id:"CO",nombre:"Constancia"},{id:"T",nombre:"TÃ­tulo"},{id:"O",nombre:"Otro"}]),e.listaEstudio=ko.observableArray(),e.IDestudio=ko.observable(),e.institucion=ko.observable(),e.fecha_inicio=ko.observable(),e.fecha_fin=ko.observable(),e.grado=ko.observable(),e.tipo_documento=ko.observable(),e.compartir=ko.observable(),e.listaExperiencia=ko.observableArray(),e.IDexperiencia=ko.observable(),e.lugar=ko.observable(),e.fecha_inicio=ko.observable(),e.fecha_fin=ko.observable(),e.area=ko.observable(),e.puesto=ko.observable(),e.duracion=ko.observable(),e.guardar=function(){var e=pathApi+"usuario/apiactualizarperfil";$("#frmPerfil").valid()&&(disableBottonForm("frmPerfil","btnGuardar","lPerfil"),$.post(e,$("#frmPerfil").serialize(),function(a){if(a.estatus){mostrarMensajeS(a.mensaje);var t=$("#imagen").get(0).files,a=new FormData;t.length>0?(a.append("file",t[0]),$.ajax({type:"POST",url:e,contentType:!1,processData:!1,data:a,success:function(e){e=JSON.parse(e),e.estatus?mostrarMensajeS(e.mensaje):mostrarMensajeE(e.mensaje),enableBottonForm("frmPerfil","btnGuardar","lPerfil")},error:function(e,a){mostrarMensajeE(e.responseText),enableBottonForm("frmPerfil","btnGuardar","lPerfil")}})):enableBottonForm("frmPerfil","btnGuardar","lPerfil")}else mostrarMensajeE(a.mensaje),enableBottonForm("frmPerfil","btnGuardar","lPerfil")},"json").fail(function(e){enableBottonForm("frmPerfil","btnGuardar","lPerfil"),mostrarMensajeE(e.responseText)}))},e.btnCancelar=function(){redirect("panel")},e.obtenerContenido=function(){disableBottonForm("","","lPerfil");var a=pathApi+"usuario/apiobtenerconenidoperfil/";$.getJSON(a).done(function(a){if(a.estatus){var t=a.resultado,o=t.usuarioDetalle;e.usuario(o.usuario),e.nombre(o.nombre),e.apellido(o.apellido),e.correo(o.correo),e.telefono(o.telefono),e.celular(o.celular),e.fechaNacimiento(o.fecha_nacimiento),e.sexo(o.sexo),e.imagenActual(o.imagenAgente),e.direccion(o.direccion),e.estadoCivil(o.estado_civil),e.compartirCelular(o.compartir_celular),e.compartirNombre(o.compartir_nombre),e.compartirCorreo(o.compartir_correo),e.bio(o.bio),e.url(o.url),"1"==o.compartir_celular?($("#compartirCelularS").attr("checked","checked"),$("#compartirCelularSLabel").addClass("active")):($("#compartirCelularN").attr("checked","checked"),$("#compartirCelularNLabel").addClass("active")),"1"==o.compartir_nombre?($("#compartirNombreS").attr("checked","checked"),$("#compartirNombreSLabel").addClass("active")):($("#compartirNombreN").attr("checked","checked"),$("#compartirNombreNLabel").addClass("active")),"1"==o.compartir_correo?($("#compartirCorreoS").attr("checked","checked"),$("#compartirCorreoSLabel").addClass("active")):($("#compartirCorreoN").attr("checked","checked"),$("#compartirCorreoNLabel").addClass("active")),$("#sexo").val(e.sexo()).trigger("change"),$("#estadoCivil").val(e.estadoCivil()).trigger("change"),e.listaTipoCuenta(t.listaTipoCuenta),$.each(o.listaSocial,function(e,a){$("#tipoCuenta-"+a.IDtipo_cuenta).val(a.url)})}else mostrarMensajeE(a.mensaje);enableBottonForm("","","lPerfil")}).fail(function(e){enableBottonForm("","","lPerfil"),mostrarMensajeE(e.responseText)})},e.cambiarCotrasena=function(){var e=pathApi+"usuario/apicambiarcontrasena";$("#frmCambiarContrasena").valid()&&(disableBottonForm("frmCambiarContrasena","btnGuardar"),$.post(e,$("#frmCambiarContrasena").serialize(),function(e){e.estatus?mostrarMensajeS(e.mensaje):mostrarMensajeE(e.mensaje),enableBottonForm("frmCambiarContrasena","btnGuardar")},"json").fail(function(e){enableBottonForm("frmCambiarContrasena","btnGuardar"),mostrarMensajeE(e.responseText)}))},e.obtenerRedesSociales=function(){var a=pathApi+"tipocuenta/apiobtenertipocuentaactivo";e.listaTipoCuenta.removeAll(),$.getJSON(a).done(function(a){if(a.estatus){var t=a.resultado;$.each(t,function(a,t){e.listaTipoCuenta.push(t)})}else mostrarMensajeE(a.mensaje)}).fail(function(e){mostrarMensajeE(e.responseText)})}}var perfil=new Perfil;