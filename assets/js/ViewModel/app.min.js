function App(){var self=this;self.id=ko.observable(),self.resultadoImei=ko.observable(),self.listaReporteImei=ko.observableArray(),self.conResultado=ko.observable(),self.usuario=ko.observable(),self.imgPerfil=ko.observable(),self.socialUrl=ko.observable(),self.socialTipo=ko.observable(),self.socialTitulo=ko.observable(),self.socialDescripcion=ko.observable(),self.socialImg=ko.observable(),self.correo=ko.observable(),self.url=ko.observable(),self.usuarioLog=ko.observable(!1),self.divRegistrateVisible=ko.observable(!1),self.divRecuperarContrasenaVisible=ko.observable(!1),self.listaMoneda=ko.observableArray(),self.posScroll=ko.observable(0),self.contrasenaCambiada=ko.observable(!1),self.bOrdenadoPor=ko.observable("PLH"),self.modoVista=ko.observable("G"),self.paginaActual=ko.observable(0),self.paginaActualTemp=ko.observable(0),self.vistaInicio=ko.observable(!1),self.nombreApellido=ko.observable(),self.imgPerfil=ko.observable(),self.empresa=ko.observable(),self.logo=ko.observable(),self.nombreWeb=ko.observable(),self.rol=ko.observable(),self.listaTestimonio=ko.observableArray(),self.listaProvincia=ko.observableArray(),self.webCorreo=ko.observable(),self.webTelefono=ko.observable(),self.webDireccion=ko.observable(),self.webHorario=ko.observable(),self.menuActivo=ko.observable(),self.mRolV=ko.observable(!1),self.mObjetoV=ko.observable(!1),self.mUsuarioV=ko.observable(!1),self.mLogV=ko.observable(!1),self.mCambiarContrasenaV=ko.observable(!1),self.mConfiguracionV=ko.observable(!1),self.mSocialV=ko.observable(!1),self.mDenunciaV=ko.observable(!1),self.mPostSocialV=ko.observable(!1),self.mContactoV=ko.observable(!1),self.detalleAplicacion=ko.observable(),self.getPermisoMenu=function(){var e=pathApi+"objeto/obtenerlistapermisomenu";disableBottonForm(),$.post(e,function(e){if(e.estatus){var a=e.resultado;$.each(a,function(e,a){"mrol"==a.nombre_fisico?self.mRolV(!0):"mobjeto"==a.nombre_fisico?self.mObjetoV(!0):"musuario"==a.nombre_fisico?self.mUsuarioV(!0):"mlog"==a.nombre_fisico?self.mLogV(!0):"mcambiarcontrasena"==a.nombre_fisico?self.mCambiarContrasenaV(!0):"mconfiguracion"==a.nombre_fisico?self.mConfiguracionV(!0):"mcontacto"==a.nombre_fisico?self.mContactoV(!0):"mrol"==a.nombre_fisico?self.mRolV(!0):"mcambiarcontrasena"==a.nombre_fisico?self.mCambiarContrasenaV(!0):"msocial"==a.nombre_fisico?self.mSocialV(!0):"mdenuncia"==a.nombre_fisico?self.mDenunciaV(!0):"mpostsocial"==a.nombre_fisico&&self.mPostSocialV(!0)})}else mostrarMensajeE(e.mensaje);enableBottonForm()},"json").fail(function(e){enableBottonForm(),mostrarMensajeE(e.responseText)})},self.mDashboard=function(){redirect(pathWeb+"estadistica")},self.mRol=function(){redirect(pathWeb+"rol")},self.mObjeto=function(){redirect(pathWeb+"objeto")},self.mUsuario=function(){redirect(pathWeb+"usuario/administrar")},self.mLog=function(){redirect(pathWeb+"log")},self.mCambiarContrasena=function(){redirect(pathWeb+"usuario/cambiarcontrasena")},self.mCandidato=function(){redirect(pathWeb+"candidato")},self.mPuesto=function(){redirect(pathWeb+"puesto")},self.mConfiguracion=function(){redirect(pathWeb+"configuracion")},self.mSocial=function(){redirect(pathWeb+"social")},self.mMarca=function(){redirect(pathWeb+"marca")},self.mContacto=function(){redirect(pathWeb+"contacto")},self.mResultadoPrueba=function(){redirect(pathWeb+"candidatopuesto")},self.mReporte=function(){redirect(pathWeb+"reporte")},self.mColor=function(){redirect(pathWeb+"color")},self.mTipoPrueba=function(){redirect(pathWeb+"tipoprueba")},self.mPaciente=function(){redirect(pathWeb+"paciente")},self.mDenuncia=function(){redirect(pathWeb+"denuncia/administrar")},self.mCaracteristica=function(){redirect(pathWeb+"caracteristica")},self.mMoneda=function(){redirect(pathWeb+"moneda")},self.mPostSocial=function(){redirect(pathWeb+"postsocial/administrar")},self.mAsiSeVota=function(){self.vistaInicio()||redirect(pathWeb+"#asiSeVota")},self.mComoVotar=function(){self.vistaInicio()||redirect(pathWeb+"#comoVotar")},self.mPadron=function(){self.vistaInicio()||redirect(pathWeb+"#padron")},self.btnPadron=function(){$("#ifPadron").attr("src","http://contacto.jce.gob.do/jceweb/consultapadron/Inicio.aspx"),$("#modalPadron").modal("show")},self.mCandidaturas=function(){redirect(pathWeb+"candidatura")},self.mRecintos=function(){redirect(pathWeb+"recinto")},self.mDenuncias=function(){redirect(pathWeb+"denuncia")},self.mEstadisticas=function(){redirect(pathWeb+"estadisticas")},self.mInformate=function(){redirect(pathWeb+"informate")},self.propiedadPaginaSiguiente=function(){self.paginaActualTemp(self.paginaActual()),self.paginaActual(self.paginaActual()+1),self.obtenerPropiedades()},self.propiedadPaginaAnterior=function(){self.paginaActualTemp(self.paginaActual()),self.paginaActual(self.paginaActual()-1),self.obtenerPropiedades()},self.cambiarModoVista=function(e){self.modoVista(e),$.each(self.listaPropiedad(),function(a,o){var t="C"==o.tipo?"pin-house.png":"A"==o.tipo?"pin-apartment.png":"O"==o.tipo?"pin-commercial.png":"pin-land.png";t=imgDefault+t;var n="G"==e?"grid-map-":"list-map-";mapInit(o.lat,o.lng,n+o.IDpropiedad,t,!1)}),"G"==self.modoVista()?app.appGridOffer("grid-offer"):app.appListOffer("list-offer")},self.obtenerPerfil=function(){var e=pathApi+"usuario/apiobtenerperfil/";$.getJSON(e).done(function(e){if(e.estatus){var a=e.resultado;self.nombreApellido(a.nombre+" "+a.apellido),self.usuario(a.usuario),self.imgPerfil(a.imagenPerfil),self.rol(a.nombreRol),self.logo(a.logoEmpresa)}else mostrarMensajeE(e.mensaje)}).fail(function(e){mostrarMensajeE(e.responseText)})},self.btnPanel=function(){redirect(pathWeb+"panel")},self.btnPerfil=function(){redirect(pathWeb+"perfil")},self.btnSesion=function(){redirect(pathWeb+"admin")},self.btnInicio=function(){redirect(pathWeb)},self.btnPropiedades=function(){redirect(pathWeb+"propiedad")},self.btnAgentes=function(){redirect(pathWeb+"agentes")},self.btnContactenos=function(){redirect(pathWeb+"contactenos")},self.btnCambiarContrasena=function(){redirect(pathWeb+"cambiarcontrasena")},self.cerrarSesion=function(){self.usuarioLog(!1),redirect(pathWeb+"usuario/cerrarsesion")},self.mostrarRegistrate=function(){$("#login-modal").modal("hide"),$("#register-modal").modal(),$("body").css("padding-right","0px")},self.mostrarIniciarSecion=function(){$("#forgot-modal").modal("hide"),$("#register-modal").modal("hide"),$("#login-modal").modal(),$("body").css("padding-right","0px")},self.mostrarRecuperarContrasena=function(){$("#login-modal").modal("hide"),$("#forgot-modal").modal(),$("body").css("padding-right","0px")},self.btnRegistrate=function(){$("#modalSesion").modal("show")},self.iniciarSesion=function(){var e=pathApi+"usuario/apiiniciarsesion",a=$("#txtUsuario").val(),o=$("#txtContrasena").val();$("#frmSesion").valid()&&(disableBottonForm("frmSesion","btnIniciarSesion"),$.post(e,{usuario:a,contrasena:o},function(e){e.estatus?redirect(pathWeb+"admin"):(enableBottonForm("frmSesion","btnIniciarSesion"),mostrarMensajeE(e.mensaje,"divMensajeESesion","M"))},"json").fail(function(e){enableBottonForm("frmSesion","btnIniciarSesion"),mostrarMensajeE(e.responseText,"divMensajeESesion","M")}))},self.btnSesionTwitter=function(){redirect(pathWeb+"usuario/sesiontwitter")},self.btnSesionFacebook=function(){redirect(pathWeb+"usuario/sesionfacebook")},self.registrarUsuario=function(){var e=pathApi+"usuario/apicrearusuario";$("#frmRegistrate").valid()&&(disableBottonForm("frmRegistrate","btnRegistrate"),$.post(e,$("#frmRegistrate").serialize(),function(e){e.estatus,e.estatus?(redirect(pathWeb+"perfil"),$("#modalSesion").modal("hide"),$("#modal-info").modal("show"),$("#frmRegistrate").trigger("reset")):mostrarMensajeE(e.mensaje,"divMensajeESesion"),enableBottonForm("frmRegistrate","btnRegistrate")},"json").fail(function(e){enableBottonForm(),mostrarMensajeE(e.responseText,"divMensajeESesion")}))},self.enviarCorreoConfirmacion=function(){var e=pathApi+"usuario/apinotificarcorreo";disableBottonForm("","btnNotificarCorreo"),$.post(e,function(e){e.estatus?mostrarMensajeS(e.mensaje):mostrarMensajeE(e.mensaje),enableBottonForm("","btnNotificarCorreo")},"json").fail(function(e){enableBottonForm(),mostrarMensajeE(e.responseText)})},self.cambiarContrasenaRecuperada=function(){var e=pathApi+"usuario/apicambiarcontrasenarecuperada/";$("#frm").valid()&&(disableBottonForm(),$.post(e,$("#frm").serialize(),function(e){e.estatus?(mostrarMensajeS(e.mensaje,"divMensajeS","S"),self.contrasenaCambiada(!0)):(enableBottonForm("frm","btnEnviar"),mostrarMensajeE(e.mensaje,"divMensajeE","E"))},"json").fail(function(e){enableBottonForm("frm","btnEnviar"),mostrarMensajeE(e.responseText,"divMensajeE","E")}))},self.cambiarContrasenaRecuperadaF=function(){var e=pathApi+"usuario/apicambiarcontrasenarecuperada/";$("#frm").valid()&&(disableBottonForm(),$.post(e,$("#frm").serialize(),function(e){e.estatus?(mostrarMensajeS(e.mensaje),self.contrasenaCambiada(!0)):(enableBottonForm("frm","btnEnviar"),mostrarMensajeE(e.mensaje))},"json").fail(function(e){enableBottonForm("frm","btnEnviar"),mostrarMensajeE(e.responseText)}))},self.recuperarContrasena=function(){if($("#frmPass").valid()){disableBottonForm("frmPass","btnEnviarRecuperar");var e=pathApi+"usuario/apirecordarcontrasena/",a=$("#txtUsuarioRecuperar").val();$.post(e,{tipo:"F",usuario:a},function(e){e.estatus?mostrarMensajeS(e.mensaje):mostrarMensajeE(e.mensaje),enableBottonForm("frmPass","btnEnviarRecuperar")},"json").fail(function(){mostrarMensajeE(error00),enableBottonForm("frmPass","btnEnviarRecuperar")})}},self.btnDetallePropiedad=function(e){redirect(pathWeb+"propiedad/d/"+e.url)},self.enviarContacto=function(){if($("#frmContacto").valid()){var e=pathApi+"contacto/apienviarmensaje";$("#frmContacto").valid()&&(disableBottonForm("frmContacto","btnEnviarContacto","lContacto"),$.post(e,$("#frmContacto").serialize(),function(e){e.estatus,e.estatus?($("#frmContacto").trigger("reset"),mostrarMensajeS(e.mensaje)):mostrarMensajeE(e.mensaje),enableBottonForm("frmContacto","btnEnviarContacto","lContacto")},"json").fail(function(e){enableBottonForm("frmContacto","btnEnviarContacto","lContacto"),mostrarMensajeE(e.responseText)}))}},self.btnRegistrarPropiedad=function(){redirect(pathWeb+"propiedad/registrar")},self.btnDetalleAgente=function(e){redirect(pathWeb+"agente/"+e.url)},self.btnFacebook=function(){redirectT("https://www.facebook.com/dominicancode")},self.btnTwitter=function(){redirectT("http://twitter.com/dominicancode")},self.btnGPlus=function(){redirectT("http://plus.google.com/dominicancode")},self.btnInstagram=function(){redirectT("http://instagram.com/dominicancode")},self.registrarLike=function(){var e=pathApi+"aplicacion/apiregistrarlike";$.post(e,{ID:self.detalleAplicacion().id},function(e){if(e.estatus){e.resultado;self.detalleAplicacion().like=parseInt(self.detalleAplicacion().like+1),mostrarMensajeS(e.mensaje)}else mostrarMensajeE(e.mensaje)},"json").fail(function(e){mostrarMensajeE(e.responseText)})},self.compartirAplicacion=function(){$("#mCompartir").modal("show")},self.btnCompartirAppFb=function(){redirectE("https://www.facebook.com/sharer/sharer.php?u="+pathWeb+" "+self.socialTitulo()+" #EleccionesRD")},self.btnCompartirAppTwitter=function(){redirectE("https://twitter.com/?status="+pathWeb+" "+self.socialTitulo()+" #EleccionesRD")},self.btnCompartirAppGPlus=function(){redirectE("https://plus.google.com/share?url="+pathWeb+" "+self.socialTitulo()+" #EleccionesRD")},self.btnCompartirFb=function(){redirectE("https://www.facebook.com/sharer/sharer.php?u="+pathWeb+"propiedad/d/"+self.id())},self.btnCompartirTwitter=function(){redirectE("https://twitter.com/?status="+self.socialDescripcion()+"  "+pathWeb+"equipo/detalle/"+self.id())},self.btnCompartirGPlus=function(){redirectE("https://plus.google.com/share?url="+pathWeb+"equipo/detalle/"+self.id())},self.btnCompartirCorreo=function(){redirectE("https://www.facebook.com/sharer/sharer.php?u="+pathWeb+"equipo/detalle/"+self.id())},self.obtenerProvincia=function(){self.listaProvincia.removeAll();var e=pathApi+"localidad/obtenerprovinciapais/";$.getJSON(e).done(function(e){if(e.estatus){var a=e.resultado;self.listaProvincia(a)}else mostrarMensajeE(e.mensaje,"divMensajeEEquipo")}).fail(function(e){enableBottonForm(),mostrarMensajeE(e.responseText,"divMensajeEEquipo")})},self.suscribir=function(){var e=pathApi+"informacion/apisuscribir",a="",o=$("#txtCorreoSuscriptor").val();$("#frmSuscripcion").valid()&&(disableBottonForm("frmSuscripcion","btnEnviarSuscripcion"),$.post(e,{nombre:a,correo:o},function(e){e.estatus?(mostrarMensajeS(e.mensaje),$("#frmSuscripcion").trigger("reset")):mostrarMensajeE(e.mensaje),enableBottonForm("frmSuscripcion","btnEnviarSuscripcion")},"json").fail(function(e){enableBottonForm("frmSuscripcion","btnEnviarSuscripcion"),mostrarMensajeE(e.responseText)}))},self.appGridOffer=function(e){setTimeout(function(){$("."+e+"-col").each(function(){var a=0;a+=$(this).find("."+e+"-photo").outerHeight(),a+=$(this).find("."+e+"-text").outerHeight(),a+=$(this).find(".price-grid-cont").outerHeight(),a+=$(this).find("."+e+"-params").outerHeight(),$(this).find("."+e).stop(!0,!0).animate({height:a},0),$(this).find("."+e+"-back").stop(!0,!0).animate({height:a},0)})},600)},self.appListOffer=function(e){setTimeout(function(){$("."+e+"-left").each(function(){var a=0;a+=$(this).find("."+e+"-photo").outerHeight(),a+=$(this).find("."+e+"-params").outerHeight(),$(this).stop(!0,!0).animate({height:a-30},0),$(this).find("."+e+"-back").stop(!0,!0).animate({height:a+20},0)})},600)},self.appSlider=function(id,step,metodo){metodo=metodo||null,step=step||1,$("."+id).each(function(index){var sliderId=$(this).attr("id"),max=parseFloat($(this).attr("data-max"));$(this).slider({range:!0,step:step,min:parseFloat($(this).attr("data-min")),max:max,values:[parseFloat($(this).attr("data-min")),parseFloat($(this).attr("data-max"))],slide:function(e,a){$("#"+sliderId+"-value").val(a.values[0]+" - "+(a.values[1]==max?a.values[1]+"+":a.values[1]))},stop:function(event,ui){eval(metodo)}}),$("#"+sliderId+"-value").val($(this).slider("values",0)+" - "+$(this).slider("values",1))})},self.appOwlCarousel=function(e,a,o,t,n,i){if(t=t||3,n=n||3,i=i||2,$("#"+e).length){$("#"+e).owlCarousel({items:t,itemsDesktop:[1182,n],itemsDesktopSmall:[974,i],itemsTablet:[750,2],itemsTabletSmall:!1,itemsMobile:[479,1],mouseDrag:!0,pagination:!1});var s=$("#"+e).data("owlCarousel");$("#"+a).click(function(e){e.preventDefault(),s.next()}),$("#"+o).click(function(e){e.preventDefault(),s.prev()})}},self.mapa=function(e,a,o,t){$("#"+a).length&&($("#"+a).geocomplete({map:"#"+e,details:"form ",location:new google.maps.LatLng(o,t),mapOptions:{zoom:14,scrollwheel:!0,mapTypeId:"roadmap",disableDefaultUI:!1,mapTypeControl:!0,mapTypeControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},scaleControl:!0,streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},styles:mapStyle},markerOptions:{draggable:!0,icon:imgDefault+"pin-empty.png"}}),$("#"+a).bind("geocode:dragged",function(e,a){$("input[name=lat]").val(a.lat()),$("input[name=lng]").val(a.lng())}))},self.swiperGallery=function(){if("#swiper-gallery".length){var e;e=w_height>650||w_width<481?w_height-$("header").innerHeight()-$(".thumbs-slider").outerHeight():500,$("#swiper-gallery").css("height",e+"px"),$("#swiper-gallery .slide-desc-col").css("height",e+"px")}if($("#swiper-gallery").length){gallerySwiper=new Swiper("#swiper-gallery",{nextButton:".slide-next",prevButton:".slide-prev",loop:!0,grabCursor:!0,preloadImages:!1,lazyLoading:!0,lazyLoadingInPrevNext:!0,loopAdditionalSlides:0,autoplay:5e3,speed:700});var a=$("#swiper-gallery .swiper-slide").length;$(".gallery-slide-desc-1").addClass("gallery-slide-desc-"+(a-1)),$(".gallery-slide-desc-"+(a-2)).addClass("gallery-slide-desc-0"),gallerySwiper.on("onTransitionEnd",function(){$(".gallery-slide-desc-"+gallerySwiper.previousIndex).removeClass("fadeInUp"),$(".gallery-slide-desc-"+gallerySwiper.previousIndex).addClass("fadeOutUp"),$(".gallery-slide-desc-"+gallerySwiper.activeIndex).removeClass("fadeOutUp"),$(".gallery-slide-desc-"+gallerySwiper.activeIndex).addClass("fadeInUp")}),gallerySwiper.on("onSlideChangeStart",function(){$("#swiper-thumbs").length&&(gallerySwiper.activeIndex==a-1?t.slideTo(0):t.slideTo(gallerySwiper.activeIndex-2)),$("#slide-more-cont a").css("z-index",10),$("#slide-more-cont a.num-"+gallerySwiper.activeIndex).css("z-index",20)}),$("#swiper-gallery .swiper-slide").each(function(e){var a=$(this).children(".slide-bg").first().attr("data-background"),o=$(this).children(".slide-bg").first().attr("data-sub-html");"undefined"==typeof o&&(o="");var t=e;$(this).hasClass("swiper-slide-duplicate")||$("#slide-more-cont").append('<a href="'+a+'" class="navigation-box navigation-box-more slide-more num-'+t+'" '+("undefined"!=typeof o?' data-sub-html="'+o:"")+'"><div class="navigation-triangle"></div><div class="navigation-box-icon"><i class="jfont fa-lg">&#xe813;</i></div></a>')}),$("#slide-more-cont a.num-1").css("z-index",20)}if($("#swiper-thumbs").length){var t=new Swiper("#swiper-thumbs",{nextButton:".thumb-next",prevButton:".thumb-prev",spaceBetween:15,centeredSlides:!1,slidesPerView:"auto",touchRatio:.2,slideToClickedSlide:!1});$("#swiper-thumbs .swiper-slide").click(function(){gallerySwiper.slideTo(t.clickedIndex+1)})}$(window).trigger("resize")},self.shareW=function(e){var a=window.screen.width/2-330,o=window.screen.height/2-230,t=e;return window.open(t,"Share","status=1,height=460,width=600,top="+o+",left="+a+",resizable=0"),!1},self.mostrarComoVotarBoleta=function(e){$("#modalComoVotar-"+e).modal("show")}}var app=new App;